<!DOCTYPE html>

{% extends "base_framework.html" %}

<head>
	<title>
	</title>
</head>

<body>
	<br><br>
	{% block main_body_content %}
		<form action="" method="post">
			{% if simulation_form.0.errors %}
				<p style="color:red; font-size:200%"> There are errors in the form! </p>
			{% endif %}
			<table>
				{% for sim_item in simulation_form.0 %}
					<tr>
						<td>{{ sim_item.label }}</td>
						<td>{{ sim_item }}
						{% if sim_item.errors %}
							{% for sim_errors in sim_item.errors %}
								<font color="red"> {{ sim_errors }} </font>
							{% endfor %}</td>
						{% endif %}
					</tr>
				{% endfor %}
			</table>

			<p>Browse your computer and upload the circuit schematic spreadsheets (.csv) files. All the schematics must be in the same directory 
			as the working directory above.</p>
			<table>
				{% for sim_item in ckt_schematic_form %}
				<tr>
					<td style="text-align:left; padding:25px"> {{ forloop.counter }}. </td>
					<td>
						{% if sim_item.0 %}
						<table>
							<tr style="padding:15px">
								<td>File name: </td>
								<td>{{ sim_item.0.ckt_file_name }}</td>
							</tr>
							<tr>
								<td>File description:</td>
								<td>{{ sim_item.0.ckt_file_descrip }}</td>
							</tr>
						</table>
						Want to change this file? Click
						<input type="submit" name="change_ckt_id_{{ sim_item.0.id }}" Value="Remove circuit"> <br>
						and add another one using Add circuit button below. <br><br>
						{% else %}
						<table>
							<tr>
								<td>{{ sim_item.1.label }}</td>
								<td>{{ sim_item.1 }}</td>
							</tr>
						</table>
						{% endif %}
					</td>
				</tr>
				{% endfor %}
			</table>
			<input type="submit" name="add_ckt_schematic" value="Add circuit file">
			Use this button to add circuit schematic spreadsheets.
			<br> <br>
			<input type="submit" name="submit"  value="Submit">
			<input type="hidden" name="sim_id" value="{{ sim_id }}">
			{% csrf_token %}
		</form>
	{% endblock %}
</body>